{% extends 'base.html' %}
{% load static %}
{% block profile %}

<!-- Заголовок конец-->

<!-- слайдер сотрудников -->
{% include 'worker_cards.html' %}
<!-- слайдер сотрудников конец -->


<!-- mid panel  -->
<div class="content">

    <!-- Кварталы -->
<div class="quarterBox">

  {% for i in all_quarter %}
  {% if i.id == selected_quarter %}
  <a href="/id{{ selected_user_id }}/q{{i.id}}/"><button class="quarterButton-Selected">{{i}}</button></a>
  {% else %}
  <a href="/id{{ selected_user_id }}/q{{i.id}}/"><button class="quarterButton">{{i}}</button></a>
  {% endif %}
  {% endfor %}


</div>
    <!-- Кварталы -->

    <!-- Профиль -->
{% include 'mid_profile.html' %}
    <!-- Профиль -->

</div>
<!-- mid panel  -->


<!-- Таблица -->
{% include 'err_bon_table.html' %}
<!-- Таблица -->

<!-- mid panel  -->
</body>





<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- код для ошибок-->



<!-- код для бонусов-->
<script>
  /* // Vertical bar chart
   var ctx = document.getElementsByClassName('chartErrors')

   var labels = ['{{labels.0}}','{{labels.1}}', '{{labels.2}}']



   var myChart = new Chart(ctx, {

       type: 'bar',
       data: {
         labels: labels,
         datasets: [{
           borderRadius: 4,
           data: {{ data }},
         backgroundColor: [
             '#7BA05B'],

         }]
       },
       options: {
         layout: {
             padding: {
               left: 15
             }
         },

         scales: {


           x: {
             categoryPercentage: .8,
       barPercentage: 1,
             grid: {
               display: false,
               barThickness: 1,
             }
           },
           y: {
             grid: {
               display: false
             }
           },


         },

       }
     });
 */

</script>



<!-- подсказка -->

<script>

  let tooltipElem;

  document.onmouseover = function (event) {
    let target = event.target;

    // если у нас есть подсказка...
    let tooltipHtml = target.dataset.tooltip;
    if (!tooltipHtml) return;

    // ...создадим элемент для подсказки

    tooltipElem = document.createElement('div');
    tooltipElem.className = 'tooltip';
    tooltipElem.innerHTML = tooltipHtml;
    document.body.append(tooltipElem);

    // спозиционируем его сверху от аннотируемого элемента (top-center)
    let coords = target.getBoundingClientRect();

    let left = coords.left + (target.offsetWidth - tooltipElem.offsetWidth) / 2;
    if (left < 0) left = 0; // не заезжать за левый край окна

    let top = coords.top - tooltipElem.offsetTop - 5;
    if (top < 0) { // если подсказка не помещается сверху, то отображать её снизу
      top = coords.top + target.offsetHeight + 5;
    }

    tooltipElem.style.left = left + 'px';
    tooltipElem.style.top = top + 'px';
  };

  document.onmouseout = function (e) {

    if (tooltipElem) {
      tooltipElem.remove();
      tooltipElem = null;
    }

  };


</script>

</script>

{% endblock %}